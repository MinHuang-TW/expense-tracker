{"ast":null,"code":"var _jsxFileName = \"/Users/Min/Desktop/expense-tracker/client/src/components/AddTransaction.jsx\";\nimport React, { useState, useContext, useCallback } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { numberValid, numberCalc } from '../utils/format';\nimport { datePickerExpense, defaultMaterialTheme } from '../utils/colorTheme';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { Dialog, AppBar, Toolbar, IconButton, Typography, Slide, TextField, InputAdornment, Fab, Switch } from '@material-ui/core';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport format from 'date-fns/format';\nimport 'date-fns';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    position: 'relative',\n    boxShadow: 'none'\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n    opacity: 0.8,\n    fontSize: '16px',\n    textTransform: 'uppercase'\n  },\n  textColor: {\n    color: '#232C2D',\n    opacity: 0.8\n  },\n  input: {\n    fontSize: '36px'\n  },\n  inputPlus: {\n    color: theme.palette.primary.main\n  },\n  inputMinus: {\n    color: '#f8777d'\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    boxShadow: 'none'\n  }\n}));\nconst dateFormat = 'd MMM, yyyy';\n\nclass LocalizedUtils extends DateFnsUtils {\n  getDatePickerHeaderText(date) {\n    return format(date, dateFormat, {\n      locale: this.locale\n    });\n  }\n\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }));\n});\nconst TransactionSwitch = withStyles(theme => ({\n  root: {\n    marginRight: -12\n  },\n  switchBase: {\n    color: theme.palette.primary.main,\n    '&$checked': {\n      color: theme.palette.primary.main\n    },\n    '&$checked + $track': {\n      backgroundColor: theme.palette.primary.main\n    }\n  },\n  thumb: {\n    boxShadow: 'none'\n  },\n  checked: {},\n  track: {\n    backgroundColor: theme.palette.primary.main\n  }\n}))(Switch);\n\nconst AddTransaction = () => {\n  const {\n    addTransaction\n  } = useContext(GlobalContext);\n  const [text, setText] = useState(''),\n        [errorText, setErrorText] = useState(false);\n  const [amount, setAmount] = useState(null),\n        [errorAmount, setErrorAmount] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const [open, setOpen] = useState(false);\n  const [minus, setMinus] = useState(true);\n  const [disableBtn, setDisableBtn] = useState(true);\n  const classes = useStyles();\n  const handleOpen = useCallback(() => {\n    setOpen(true);\n  }, []);\n  const handleClose = useCallback(() => {\n    setOpen(false);\n    setErrorText(false);\n    setErrorAmount(false);\n    setAmount(null);\n    setText('');\n    setDate(new Date());\n    setMinus(true);\n    setDisableBtn(true);\n  }, []);\n  const handleMinus = useCallback(() => {\n    setMinus(!minus);\n  }, [minus]);\n  const handleAmount = useCallback(e => {\n    if (numberValid(e.target.value)) {\n      setAmount(e.target.value);\n      setErrorAmount(false);\n      !text ? setDisableBtn(true) : errorText ? setDisableBtn(true) : setDisableBtn(false);\n    } else {\n      setErrorAmount(true);\n      setDisableBtn(true);\n    }\n  }, [text, errorText]);\n  const handleText = useCallback(e => {\n    if (e.target.value) {\n      setText(e.target.value);\n      setErrorText(false);\n      !amount ? setDisableBtn(true) : errorAmount ? setDisableBtn(true) : setDisableBtn(false);\n    } else {\n      setErrorText(true);\n      setDisableBtn(true);\n    }\n  }, [amount, errorAmount]);\n  const onSubmit = useCallback(e => {\n    e.preventDefault();\n    const newTransaction = {\n      text,\n      amount: minus ? -numberCalc(amount) : numberCalc(amount),\n      date\n    };\n    addTransaction(newTransaction);\n    handleClose();\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(Fab, {\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    disableRipple: true,\n    className: `${classes.fab} no-outline`,\n    onClick: handleOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(AddIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  })), React.createElement(ThemeProvider, {\n    theme: minus ? datePickerExpense : defaultMaterialTheme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(Dialog, {\n    fullScreen: true,\n    open: open,\n    onClose: handleClose,\n    TransitionComponent: Transition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    className: classes.appBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"New \", minus ? 'Expense' : 'Income'), React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    onClick: handleClose,\n    \"aria-label\": \"close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(CloseIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  })))), React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    className: \"new-form\",\n    noValidate: true,\n    autoComplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-amount\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"standard-full-width\",\n    label: \"Amount\",\n    required: true,\n    autoFocus: true,\n    InputProps: {\n      className: `${classes.input} ${minus ? classes.inputMinus : classes.inputPlus}`,\n      startAdornment: React.createElement(InputAdornment, {\n        position: \"start\",\n        style: {\n          margin: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, minus ? React.createElement(RemoveIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }) : React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }))\n    },\n    error: errorAmount,\n    helperText: errorAmount ? 'Please enter a valid number' : 'Toggle Income / Expense',\n    onChange: handleAmount,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }), React.createElement(TransactionSwitch, {\n    checked: minus,\n    tabIndex: \"-1\",\n    onChange: handleMinus,\n    inputProps: {\n      'aria-label': 'secondary checkbox'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  })), React.createElement(TextField, {\n    id: \"standard-full-width\",\n    label: \"Description\",\n    fullWidth: true,\n    required: true,\n    error: errorText,\n    InputLabelProps: {\n      shrink: true\n    },\n    InputProps: {\n      className: classes.textColor\n    },\n    helperText: errorText && 'Please describe the transaction',\n    onChange: handleText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }), React.createElement(MuiPickersUtilsProvider, {\n    utils: LocalizedUtils,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(KeyboardDatePicker, {\n    id: \"date-picker-dialog\",\n    label: \"Date\",\n    value: date,\n    format: dateFormat,\n    onChange: date => setDate(date),\n    InputProps: {\n      className: classes.textColor\n    },\n    KeyboardButtonProps: {\n      'aria-label': 'change date'\n    },\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: `btn ${minus ? 'minus-bg' : 'plus-bg'}`,\n    style: {\n      marginTop: '50px'\n    },\n    disabled: disableBtn ? true : false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, \"SAVE\")))));\n};\n\nexport default AddTransaction;","map":{"version":3,"sources":["/Users/Min/Desktop/expense-tracker/client/src/components/AddTransaction.jsx"],"names":["React","useState","useContext","useCallback","GlobalContext","numberValid","numberCalc","datePickerExpense","defaultMaterialTheme","makeStyles","withStyles","ThemeProvider","Dialog","AppBar","Toolbar","IconButton","Typography","Slide","TextField","InputAdornment","Fab","Switch","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","format","CloseIcon","AddIcon","RemoveIcon","useStyles","theme","appBar","position","boxShadow","title","marginLeft","spacing","flex","opacity","fontSize","textTransform","textColor","color","input","inputPlus","palette","primary","main","inputMinus","fab","bottom","right","dateFormat","LocalizedUtils","getDatePickerHeaderText","date","locale","Transition","forwardRef","props","ref","TransactionSwitch","root","marginRight","switchBase","backgroundColor","thumb","checked","track","AddTransaction","addTransaction","text","setText","errorText","setErrorText","amount","setAmount","errorAmount","setErrorAmount","setDate","Date","open","setOpen","minus","setMinus","disableBtn","setDisableBtn","classes","handleOpen","handleClose","handleMinus","handleAmount","e","target","value","handleText","onSubmit","preventDefault","newTransaction","className","startAdornment","margin","shrink","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useCallback } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { numberValid, numberCalc } from '../utils/format';\nimport { datePickerExpense, defaultMaterialTheme } from '../utils/colorTheme';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { Dialog, AppBar, Toolbar, IconButton, Typography, Slide, TextField, InputAdornment, Fab, Switch } from '@material-ui/core';\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\nimport format from 'date-fns/format';\nimport 'date-fns';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: 'relative',\n    boxShadow: 'none',\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n    opacity: 0.8,\n    fontSize: '16px',\n    textTransform: 'uppercase',\n  },\n  textColor: {\n    color: '#232C2D',\n    opacity: 0.8,\n  },\n  input: {\n    fontSize: '36px',\n  },\n  inputPlus: {\n    color: theme.palette.primary.main,\n  },\n  inputMinus: {\n    color: '#f8777d',\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    boxShadow: 'none',\n  },\n}));\n\nconst dateFormat = 'd MMM, yyyy';\nclass LocalizedUtils extends DateFnsUtils {\n  getDatePickerHeaderText(date) {\n    return format(date, dateFormat, { locale: this.locale });\n  }\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction='up' ref={ref} {...props} />;\n});\n\nconst TransactionSwitch = withStyles((theme) => ({\n  root: {\n    marginRight: -12,\n  },\n  switchBase: {\n    color: theme.palette.primary.main,\n    '&$checked': {\n      color: theme.palette.primary.main,\n    },\n    '&$checked + $track': {\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  thumb: {\n    boxShadow: 'none',\n  },\n  checked: {},\n  track: {\n    backgroundColor: theme.palette.primary.main,\n  },\n}))(Switch);\n\nconst AddTransaction = () => {\n  const { addTransaction } = useContext(GlobalContext);\n  const [text, setText] = useState(''),\n        [errorText, setErrorText] = useState(false);\n  const [amount, setAmount] = useState(null),\n        [errorAmount, setErrorAmount] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const [open, setOpen] = useState(false);\n  const [minus, setMinus] = useState(true);\n  const [disableBtn, setDisableBtn] = useState(true);\n\n  const classes = useStyles();\n\n  const handleOpen = useCallback(() => {\n    setOpen(true);\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n    setErrorText(false);\n    setErrorAmount(false);\n    setAmount(null);\n    setText('');\n    setDate(new Date());\n    setMinus(true);\n    setDisableBtn(true);\n  }, []);\n\n  const handleMinus = useCallback(() => {\n    setMinus(!minus);\n  }, [minus]);\n\n  const handleAmount = useCallback((e) => {\n    if (numberValid(e.target.value)) {\n      setAmount(e.target.value);\n      setErrorAmount(false);\n      !text \n        ? setDisableBtn(true)\n        : errorText\n        ? setDisableBtn(true)\n        : setDisableBtn(false);\n    } else {\n      setErrorAmount(true);\n      setDisableBtn(true);\n    }\n  }, [text, errorText]);\n\n  const handleText = useCallback((e) => {\n    if (e.target.value) {\n      setText(e.target.value);\n      setErrorText(false);\n      !amount\n        ? setDisableBtn(true)\n        : errorAmount\n        ? setDisableBtn(true)\n        : setDisableBtn(false);\n    } else {\n      setErrorText(true);\n      setDisableBtn(true);\n    }\n  }, [amount, errorAmount]);\n\n  const onSubmit = useCallback((e) => {\n    e.preventDefault();\n    const newTransaction = {\n      text,\n      amount: minus ? -numberCalc(amount) : numberCalc(amount),\n      date,\n    };\n    addTransaction(newTransaction);\n    handleClose();\n  }, []);\n\n  return (\n    <>\n      <Fab\n        color='primary'\n        aria-label='add'\n        disableRipple\n        className={`${classes.fab} no-outline`}\n        onClick={handleOpen}\n      >\n        <AddIcon />\n      </Fab>\n\n      <ThemeProvider theme={minus ? datePickerExpense : defaultMaterialTheme}>\n        <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n          <AppBar className={classes.appBar}>\n            <Toolbar>\n              <Typography variant='h6' className={classes.title}>\n                New {minus ? 'Expense' : 'Income'}\n              </Typography>\n              <IconButton edge='start' color='inherit' onClick={handleClose} aria-label='close'>\n                <CloseIcon />\n              </IconButton>\n            </Toolbar>\n          </AppBar>\n\n          <form onSubmit={onSubmit} className='new-form' noValidate autoComplete='off'>\n            <div className='input-amount'>\n              <TextField\n                id='standard-full-width'\n                label='Amount'\n                required\n                autoFocus\n                InputProps={{\n                  className: `${classes.input} ${\n                    minus ? classes.inputMinus : classes.inputPlus\n                  }`,\n                  startAdornment: (\n                    <InputAdornment position='start' style={{ margin: 0 }}>\n                      {minus ? <RemoveIcon /> : <AddIcon />}\n                    </InputAdornment>\n                  ),\n                }}\n                error={errorAmount}\n                helperText={\n                  errorAmount\n                    ? 'Please enter a valid number'\n                    : 'Toggle Income / Expense'\n                }\n                onChange={handleAmount}\n              />\n\n              <TransactionSwitch\n                checked={minus}\n                tabIndex='-1'\n                onChange={handleMinus}\n                inputProps={{ 'aria-label': 'secondary checkbox' }}\n              />\n            </div>\n\n            <TextField\n              id='standard-full-width'\n              label='Description'\n              fullWidth\n              required\n              error={errorText}\n              InputLabelProps={{ shrink: true }}\n              InputProps={{ className: classes.textColor }}\n              helperText={errorText && 'Please describe the transaction'}\n              onChange={handleText}\n            />\n\n            <MuiPickersUtilsProvider utils={LocalizedUtils}>\n              <KeyboardDatePicker\n                id='date-picker-dialog'\n                label='Date'\n                value={date}\n                format={dateFormat}\n                onChange={(date) => setDate(date)}\n                InputProps={{ className: classes.textColor }}\n                KeyboardButtonProps={{ 'aria-label': 'change date' }}\n                fullWidth\n              />\n            </MuiPickersUtilsProvider>\n\n            <button\n              className={`btn ${minus ? 'minus-bg' : 'plus-bg'}`}\n              style={{ marginTop: '50px' }}\n              disabled={disableBtn ? true : false}\n            >\n              SAVE\n            </button>\n          </form>\n        </Dialog>\n      </ThemeProvider>\n    </>\n  );\n};\n\nexport default AddTransaction;\n"]},"metadata":{},"sourceType":"module"}